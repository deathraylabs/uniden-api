#:kivy 1.11.1
#:import main main

<DataWindow>:
    # these are global variables to reference objects below
    # format: [variable name in code]: [id name in kv file]
    fav_list_name: fav_list_name
    sys_name: sys_name
    dept_name: dept_name
    site_name: site_name
    unit_ids: unit_ids
    unit_ids_name_tag: unit_ids_name_tag
    transmission_start: trans_begins
    transmission_end: trans_ends
    total_time: tot_time
    command_input: _command_input
    scan_status_button: scanner_status

    GridLayout:
        id: 'main_container'
        cols: 2
        width: root.width
        height: root.height

        LargeTextDisplayPanel:
            id: _left_side

            BoxLayout:
                id: _top_row
                orientation: "horizontal"

                TouchArea:
                    id: unit_ids_name_tag
                    text: "UnitIds:NameTag"
                    color: 1, 1, .1, .90
                    size_hint_x: .5

                TouchArea:
                    id: tgid_hld
                    strikethrough: False
                    text: "TGID:Name"
                    on_press: root.scanner_hold("chan")


            TouchArea:
                id: dept_name
                text: "Department:Name"
                on_press: root.scanner_hold("dept")

            TouchArea:
                id: sys_name
                text: "System:Name"
                on_press: root.scanner_hold("system")

            TouchArea:
                id: site_name
                text: "Site:Name"
                on_press: root.site_hold()

            Label:
                id: fav_list_name
                text: "Favorites List"

            Label:
                id: unit_ids
                text: "UnitIds"

            BoxLayout:
                id: _transmission_times
                orientation: 'horizontal'

                Label:
                    id: trans_begins
                    text: "Transmission Start Time"
                    font_size: '15sp'

                Label:
                    id: trans_ends
                    text: "Transmission End Time"
                    font_size: '15sp'

                Label:
                    id: tot_time
                    text: "Total Time"
                    font_size: '15sp'

        RightSidePanel:
            id: _right_side

            MenuBar:
                id: _first_row

                CommandLine:
                    id: _command_input
                    on_text_validate:
                        root.update_unid(args[0])
                        self.focus = False       # unfocus before cancel sel
                        self.cancel_selection()  # gets rid of handles

            MenuBar:
                id: _second_row

                NumericKeypad:
                    id: _set_unid
                    text: "Set\nUNID"
                    on_press: root.open_unid_menu()

                NumericKeypad:
                    id: _avoid_key
                    text: "AVOID"
                    on_press: root.keypad_press(keypad_key="avoid")

#                NumericKeypad:
#                    id: _six
#                    text: "6"

            MenuBar:
                id: _third_row

                NumericKeypad:
                    id: _prev
                    text: "prev"
                    on_press: root.keypad_press(keypad_key="vleft")

                NumericKeypad:
                    id: _next
                    text: "next"
                    on_press: root.keypad_press(keypad_key="vright")

#                NumericKeypad:
#                    id: _three
#                    text: "3"

            MenuBar:
                id: _fourth_row

            MenuBar:
                id: _fifth_row

                Button:
                    id: scanner_status
                    text: "Mirron\nScanner"
                    on_press: root.scanner_status_btn()

                Button:
                    text: "Stop\nDisplay"
                    on_press: root.scanner_disconnect_btn()

            MenuBar:
                id: _sixth_row

                Button:
                    text: "Forward\n->"
                    on_press:
                        root.manager.transition.direction = 'left'
                        root.manager.current = 'playback'