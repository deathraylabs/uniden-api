#:kivy 1.11.1

<Label>:
#    all_labels: all_labels

    # this is how you apply generic formatting to everything tagged Label
    id: "all_labels"
    halign: 'left'
    valign: 'center'
    text_size: self.size
#    texture_size: self.size
    font_size: '25sp'
    padding: ('10sp', '10sp')
    text: ""
    color: 1,1,1,1

<BlankLabel@Label>:
    # sets properties for blank label placeholders
    id: blank_label
    canvas:
        Color:
            rgba: (1, 1, 1, 0.15)
        Rectangle:
            size: self.size
            pos: self.pos

<Button>:
    # Formats all 'Button' tags.
    font_size: '15sp'
    halign: "center"

<TouchArea@Button>:
    halign: 'left'
    valign: 'center'
    text_size: self.size
#    texture_size: self.size
    font_size: '25sp'
    padding: ('10sp', '10sp')
    text: ""
    color: 1,1,1,1

    background_normal: ""
    background_down: ""
    background_color: (1,1,1,0)


<MenuBar@BoxLayout>:
    id: "menu_layout"
#    size_hint_x: .2

<DataWindow>:
    # these are global variables to reference objects below
    # format: [variable name in code]: [id name in kv file]
    fav_list_name: fav_list_name
    sys_name: sys_name
    dept_name: dept_name
    site_name: site_name
    unit_ids: unit_ids
    unit_ids_name_tag: unit_ids_name_tag
    transmission_start: trans_begins
    transmission_end: trans_ends
    total_time: tot_time

    scan_status_button: scanner_status
    tgid_hld: tgid_hld


#    BoxLayout:
    GridLayout:
        cols: 2
        id: 'main_container'
        width: root.width
        height: root.height

        BoxLayout:
            id: "left_side"
            orientation: 'vertical'

            canvas:
                Color:
                    rgba: (1, 1, 1, 0.15)
                Rectangle:
                    size: self.size
                    pos: self.pos

            BoxLayout:
                id: "top_row"
                orientation: "horizontal"

                Label:
                    id: fav_list_name
                    text: "Favorites List"
                    #                font_size: '30sp'

                Label:
                    id: unit_ids_name_tag
                    text: "UnitIds:NameTag"
#                    size_hint_x: .5

            TouchArea:
                id: sys_name
                text: "System:Name"
                on_press: root.scanner_hold("system")

            TouchArea:
                id: dept_name
                text: "Department:Name"
                on_press: root.scanner_hold("dept")

            TouchArea:
                id: tgid_hld
                text: "TGID:Name"
                on_press: root.scanner_hold("chan")

            TouchArea:
                id: site_name
                text: "Site:Name"
                on_press: root.site_hold()

            Label:
                id: unit_ids
                text: "UnitIds"

            BoxLayout:
                id: "transmission_times"
                orientation: 'horizontal'

                Label:
                    id: trans_begins
                    text: "Transmission Start Time"
                    font_size: '15sp'

                Label:
                    id: trans_ends
                    text: "Transmission End Time"
                    font_size: '15sp'

                Label:
                    id: tot_time
                    text: "Total Time"
                    font_size: '15sp'

        BoxLayout:
            id: "right_side"
            orientation: 'vertical'
            size_hint_x: .4
#            canvas.before:
#                Color:
#                    rgb: (.5,.5,.5)
#                Rectangle:
#                    size: self.size
#                    pos: self.pos

            MenuBar:

            MenuBar:

            MenuBar:

            MenuBar:
                id: "fourth_row"

                Button:
                    id: print_data
                    text: "print GSI data"
                    on_press: root.print_data()

            MenuBar:
                id: "menu_layout"

                BoxLayout:
                    orientation: 'horizontal'

                    Button:
                        id: scanner_status
                        text: "Mirron\nScanner"
                        on_press: root.scanner_status_btn()

                    Button:
                        text: "Stop\nDisplay"
                        on_press: root.scanner_disconnect_btn()

                    Button:
                        text: "->"
                        on_press:
                            root.manager.transition.direction = 'left'
                            root.manager.current = 'playback'


<PlaybackScreen>:
    play_stop_button: stop_play
    text_display: text_display

#    BoxLayout:
    GridLayout:
        cols: 2
        id: 'main_container'
        width: root.width
        height: root.height

        BoxLayout:
            id: large_text_layout
            orientation: 'vertical'

            canvas:
                Color:
                    rgba: (1, 1, 1, 0.15)
                Rectangle:
                    size: self.size
                    pos: self.pos

            Label:
                id: text_display
                text: "pootnanny"
                valign: "top"

        MenuBar:  #
            id: "menu_layout"
            size_hint_x: .5

            BoxLayout:
                orientation: 'vertical'

                TextInput:
                    id: command_input
                    text: "GSI"
                    multiline: False
                    valign: "center"
                    size_hint_y: .2
                    on_text_validate: root.command_input(args[0])

                BoxLayout:
                    orientation: 'horizontal'

                    Button:
                        id: stop_play
                        text: "Play Wav"
                        on_press: root.play_stop_btn()

                    Button:
                        text: "Stop"
                        on_press: root.stop_btn()

                BoxLayout:
                    orientation: 'horizontal'

                    Button:
                        id: scanner_status
                        text: "Connect to Scanner"
                        on_press: root.scanner_status_btn()

                    Button:
                        text: "Stop\nDisplay"
                        on_press: root.scanner_disconnect_btn()

                    Button:
                        text: 'Back to Menu'
                        on_press:
                            root.manager.transition.direction = 'right'
                            root.manager.current = 'datawindow'