#:kivy 1.11.1
#:import main main

# Please note the root.manager.current: this is how
# you can control the ScreenManager from kv. Each screen has by default a
# property manager that gives you the instance of the ScreenManager used.

<PopupScreen>:
#    play_stop_button: stop_play
#    text_display: _text_display
#    cmd_input_box: command_input

    GridLayout:
        cols: 2
        id: _main_container_popup
        width: root.width
        height: root.height

#        RelativeLayout:

        LargeTextDisplayPanel:
            id: _large_text_layout_popup

            BoxLayout:
                orientation: "vertical"

                Label:
                    text: "Menu Screen"

                ScrollView:
                    do_scroll: (False, True)

                    ScrollingTextDisplayPanel:
                        id: _text_display_popup
                        text: "I'm the menu screen!"


        BoxLayout:
            id: "right_side"
            orientation: "vertical"
            size_hint_x: .4

            MenuBar:
                id: "menu_layout"

                BoxLayout:
                    id: "button_row_container"
                    orientation: 'vertical'

                    # ------------ first row ------------- #
                    CommandLine:
                        id: command_input
                        text: "GLT,FL"
#                        on_text_validate:
#                            root.command_input(args[0])
#                            self.cancel_selection()  # gets rid of handles


                    # ------------ second row ------------- #
                    BoxLayout:
                        id: "second_row"
                        orientation: 'horizontal'

                        Button:
                            id: "menu_view"
                            text: "Get Menu View"
#                            on_press: root.display_raw_scanner_output("MSI")

                        Button:
                            id: "gsi_output"
                            text: "View GSI Info"
#                            on_press: root.display_raw_scanner_output("GSI")

                        Button:

                    # ---------- third row ---------- #
                    BoxLayout:
                        id: "third_row"
                        orientation: 'horizontal'

                        Button:
#                            popup_window: _popup_window
                            id: _hide_popup

                            text: "broken"
#                            on_release:
#                                # moves whole window offscreen
#
#                                root.btn()


                    BoxLayout:
                        id: "fourth_row"
                        orientation: 'horizontal'


                    BoxLayout:
                        id: "fifth_row"
                        orientation: 'horizontal'

                        Button:
                            id: scanner_status
                            text: "Connect to Scanner"
#                            on_press: root.scanner_status_btn()

                        Button:
                            text: "Stop\nDisplay"
#                            on_press: root.scanner_disconnect_btn()



                    BoxLayout:
                        id: "sixth_row"
                        orientation: 'horizontal'

                        Button:
                            text: 'Main'
                            on_press:
#                                root.manager.transition.direction = 'right'
                                root.manager.current = 'datawindow'

                        Button:
                            text: 'Info'
                            on_press:
#                                root.manager.transition.direction = 'right'
                                root.manager.current = 'playback'

                        Button:
                            text: "menu"
                            on_press: root.manager.current = 'popup'